# ğŸ¤– AI Customer Care Agent

**Intelligent multi-channel customer support with voice & text capabilities**

A production-ready AI customer care system that handles customer inquiries via Telegram, phone calls (Twilio/SIP), with support for local AI models, AWS cloud services, or OpenAI. Includes optional multi-tenant SaaS platform with customer data upload dashboard.

---

## ğŸŒŸ Features

### Core Capabilities
- ğŸ’¬ **Multi-Channel Support**: Telegram chat, Twilio phone calls, or SIP trunk integration
- ğŸ¤ **Voice Processing**: Automatic speech-to-text and text-to-speech
- ğŸ§  **AI Conversation**: Natural language understanding with context awareness
- ğŸ“š **RAG (Retrieval Augmented Generation)**: Upload custom knowledge bases (PDFs, CSVs, text)
- ğŸ”„ **Auto-Learning**: Continuously improves from customer interactions
- ğŸŒ **Multi-Language**: Supports multiple languages for global customers

### Deployment Options
- **ğŸ’» Local AI**: Free open-source models (TinyLlama, Whisper, MMS-TTS) - $0/month
- **â˜ï¸ AWS Cloud**: Amazon Bedrock, Transcribe, Polly - ~$0.02/call
- **ğŸš€ OpenAI**: GPT-4, Whisper API, TTS-1 HD - ~$0.02/call

### SaaS Platform (Optional)
- ğŸ¢ Multi-tenant architecture with customer isolation
- ğŸ“Š Web dashboard for customer management (port 5000)
- ğŸ“¤ Customer self-service data upload (PDFs, CSVs, text files)
- ğŸ—„ï¸ PostgreSQL for accounts, vector DB for knowledge base
- ğŸ” Auto-generated secure passwords or custom credentials

---

## ğŸš€ Quick Start (5 Minutes)

### Prerequisites
- **Linux/WSL2** (Ubuntu 20.04+ recommended)
- **Docker & Docker Compose** (20.10+)
- **Python 3.8+** (for web UI only)
- **4GB RAM minimum** (8GB+ recommended for local AI)

### Option 1: Web UI Setup (Recommended)

**Step 1**: Start the setup wizard
```bash
cd /path/to/call_center_agent
make web-ui
```

**Step 2**: Open your browser
```
http://localhost:8080
```

**Step 3**: Follow the interactive wizard:
1. Choose AI model (Local/AWS/OpenAI)
2. Select communication channel (Telegram/Twilio/SIP)
3. Enable SaaS platform (optional)
4. Configure credentials
5. Click "ğŸš€ Deploy Now"

**That's it!** The system will deploy automatically.

### Option 2: Command Line Setup

```bash
# Interactive CLI wizard
./setup.sh

# Or manual deployment
cp .env.example .env
nano .env  # Edit configuration
make local  # or: make aws, make openai
```

---

## ğŸ—ï¸ System Architecture

### Complete Architecture Diagram

![AI Voice Agent SaaS - Complete System Architecture](docs/architecture-main.png)

<details>
<summary>ğŸ“‹ Click to see text version of architecture</summary>

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           USER INTERACTION CHANNELS                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚   Telegram   â”‚      â”‚    Twilio    â”‚      â”‚  SIP Trunk   â”‚                  â”‚
â”‚  â”‚     User     â”‚      â”‚  Phone Call  â”‚      â”‚  Phone Call  â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚         â”‚ Text/Voice          â”‚ Voice               â”‚ Voice                     â”‚
â”‚         â”‚                     â”‚                     â”‚                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                     â”‚                     â”‚
          â–¼                     â–¼                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           WEBHOOK/POLLING LAYER                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  Telegram Webhook  â”‚  â”‚  Twilio Webhook    â”‚  â”‚   SIP Webhook      â”‚        â”‚
â”‚  â”‚  OR Polling Mode   â”‚  â”‚  (Requires public  â”‚  â”‚  (Requires public  â”‚        â”‚
â”‚  â”‚  (localhost OK!)   â”‚  â”‚   URL/ngrok)       â”‚  â”‚   URL/ngrok)       â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚            â”‚                       â”‚                        â”‚                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                       â”‚                        â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           FASTAPI APPLICATION                                    â”‚
â”‚                              (Port 8000)                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                        ROUTING LAYER                                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚   â”‚
â”‚  â”‚  â”‚  /telegram   â”‚  â”‚   /phone     â”‚  â”‚   /sip       â”‚                   â”‚   â”‚
â”‚  â”‚  â”‚  telegram.py â”‚  â”‚   phone.py   â”‚  â”‚  sip_routes  â”‚                   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚            â”‚                  â”‚                  â”‚                               â”‚
â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚                               â”‚                                                  â”‚
â”‚                               â–¼                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                   AUDIO PROCESSING (Phone/Voice Only)                    â”‚   â”‚
â”‚  â”‚                                                                           â”‚   â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚   â”‚  Speech-to-Text (STT)                                            â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  â”‚   Local    â”‚  â”‚    AWS     â”‚  â”‚      OpenAI            â”‚    â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  â”‚  Whisper   â”‚  â”‚ Transcribe â”‚  â”‚   Whisper API          â”‚    â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  â”‚  (base)    â”‚  â”‚  (Neural)  â”‚  â”‚   (whisper-1)          â”‚    â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  â”‚  140MB     â”‚  â”‚  ~$0.024   â”‚  â”‚   $0.006/min           â”‚    â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  â”‚  Offline   â”‚  â”‚  /minute   â”‚  â”‚   Online               â”‚    â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚   â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚                                                                           â”‚   â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚   â”‚  Text-to-Speech (TTS)                                            â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  â”‚   Local    â”‚  â”‚    AWS     â”‚  â”‚      OpenAI            â”‚    â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  â”‚  MMS-TTS   â”‚  â”‚   Polly    â”‚  â”‚      TTS-1-HD          â”‚    â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  â”‚  Facebook  â”‚  â”‚  (Neural)  â”‚  â”‚   $15/1M chars         â”‚    â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  â”‚   Free     â”‚  â”‚  ~$16/1M   â”‚  â”‚   High quality         â”‚    â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  â”‚  Multi-lng â”‚  â”‚  chars     â”‚  â”‚   Low latency          â”‚    â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚   â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                                   â”‚
â”‚                               â–¼                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                   TEXT PROCESSING & AI LAYER                             â”‚   â”‚
â”‚  â”‚                                                                           â”‚   â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚   â”‚  LLM (Large Language Model) - Text Generation                   â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  â”‚   Local    â”‚  â”‚    AWS     â”‚  â”‚      OpenAI            â”‚    â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  â”‚  Ollama    â”‚  â”‚  Bedrock   â”‚  â”‚      GPT-4             â”‚    â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  â”‚ TinyLlama  â”‚  â”‚  Claude 3  â”‚  â”‚  gpt-4-turbo-preview   â”‚    â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  â”‚  1GB RAM   â”‚  â”‚   Haiku    â”‚  â”‚   Best quality         â”‚    â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  â”‚   Free     â”‚  â”‚ $0.00025/  â”‚  â”‚  $0.01/1K tokens       â”‚    â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  â”‚  Offline   â”‚  â”‚  1K tokens â”‚  â”‚   Fast responses       â”‚    â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚   â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚                                                                           â”‚   â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚   â”‚  Embeddings (Vector Representation) - For RAG Search            â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  â”‚   Local    â”‚  â”‚    AWS     â”‚  â”‚      OpenAI            â”‚    â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  â”‚ Sentence   â”‚  â”‚  Bedrock   â”‚  â”‚   text-embedding-3     â”‚    â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  â”‚Transformersâ”‚  â”‚   Titan    â”‚  â”‚      -small            â”‚    â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  â”‚ all-MiniLM â”‚  â”‚ Embeddings â”‚  â”‚  $0.00002/1K tokens    â”‚    â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  â”‚   Free     â”‚  â”‚  $0.0001/  â”‚  â”‚   1536 dimensions      â”‚    â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  â”‚  Offline   â”‚  â”‚  1K tokens â”‚  â”‚   Fast & accurate      â”‚    â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚   â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                                   â”‚
â”‚                               â–¼                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                      RAG SERVICE (Retrieval Augmented)                   â”‚   â”‚
â”‚  â”‚                                                                           â”‚   â”‚
â”‚  â”‚   1. User Question â†’ Generate Embedding                                  â”‚   â”‚
â”‚  â”‚   2. Search Vector Database for Similar Content                          â”‚   â”‚
â”‚  â”‚   3. Retrieve Top 3-5 Most Relevant Documents                            â”‚   â”‚
â”‚  â”‚   4. Inject Context into LLM Prompt                                      â”‚   â”‚
â”‚  â”‚   5. LLM Generates Answer with Retrieved Knowledge                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           VECTOR DATABASE LAYER                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   Elasticsearch     â”‚    â”‚  Amazon OpenSearch  â”‚    â”‚  OpenAI Vectors  â”‚   â”‚
â”‚  â”‚   (Local/Docker)    â”‚    â”‚    (AWS Cloud)      â”‚    â”‚   (Cloud API)    â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ â€¢ Free & Open       â”‚    â”‚ â€¢ Managed service   â”‚    â”‚ â€¢ Serverless     â”‚   â”‚
â”‚  â”‚ â€¢ Self-hosted       â”‚    â”‚ â€¢ Auto-scaling      â”‚    â”‚ â€¢ No setup       â”‚   â”‚
â”‚  â”‚ â€¢ Full control      â”‚    â”‚ â€¢ High availability â”‚    â”‚ â€¢ Pay-per-use    â”‚   â”‚
â”‚  â”‚ â€¢ 8GB+ RAM needed   â”‚    â”‚ â€¢ $50-500/month     â”‚    â”‚ â€¢ $0.10/GB/mo    â”‚   â”‚
â”‚  â”‚                     â”‚    â”‚                     â”‚    â”‚                  â”‚   â”‚
â”‚  â”‚ Stores:             â”‚    â”‚ Stores:             â”‚    â”‚ Stores:          â”‚   â”‚
â”‚  â”‚ â€¢ Knowledge base    â”‚    â”‚ â€¢ Knowledge base    â”‚    â”‚ â€¢ Knowledge base â”‚   â”‚
â”‚  â”‚ â€¢ FAQs              â”‚    â”‚ â€¢ FAQs              â”‚    â”‚ â€¢ FAQs           â”‚   â”‚
â”‚  â”‚ â€¢ Conversation hist â”‚    â”‚ â€¢ Conversation hist â”‚    â”‚ â€¢ Conversations  â”‚   â”‚
â”‚  â”‚ â€¢ Customer docs     â”‚    â”‚ â€¢ Customer docs     â”‚    â”‚ â€¢ Uploaded docs  â”‚   â”‚
â”‚  â”‚ â€¢ Embeddings (768d) â”‚    â”‚ â€¢ Embeddings (768d) â”‚    â”‚ â€¢ Embeddings     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      AUTO-LEARNING & FEEDBACK SYSTEM                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                   â”‚
â”‚  Every conversation stored with:                                                 â”‚
â”‚  â€¢ User question (text + embedding)                                              â”‚
â”‚  â€¢ AI answer (text + embedding)                                                  â”‚
â”‚  â€¢ Channel (telegram/phone/sip)                                                  â”‚
â”‚  â€¢ Timestamp, user_id, metadata                                                  â”‚
â”‚  â€¢ Feedback score (optional: thumbs up/down)                                     â”‚
â”‚                                                                                   â”‚
â”‚  Learning Process:                                                               â”‚
â”‚  1. New question arrives                                                         â”‚
â”‚  2. Search past conversations for similar questions                              â”‚
â”‚  3. If high similarity (>0.85) â†’ Reuse proven answer                            â”‚
â”‚  4. If no match â†’ Generate new answer â†’ Store for future                        â”‚
â”‚  5. Promoted answers become part of knowledge base                               â”‚
â”‚                                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    OPTIONAL: SAAS PLATFORM (Port 5000)                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                      PostgreSQL Database                                 â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚   â”‚
â”‚  â”‚  â”‚  Customers   â”‚  â”‚     Bots     â”‚  â”‚  Analytics   â”‚                  â”‚   â”‚
â”‚  â”‚  â”‚   Table      â”‚  â”‚    Table     â”‚  â”‚    Table     â”‚                  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                     â”‚   â”‚
â”‚  â”‚  â”‚  Documents   â”‚  â”‚Conversations â”‚                                     â”‚   â”‚
â”‚  â”‚  â”‚   Table      â”‚  â”‚    Table     â”‚                                     â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    Flask Web Dashboard                                   â”‚   â”‚
â”‚  â”‚  â€¢ Customer signup & management                                          â”‚   â”‚
â”‚  â”‚  â€¢ Upload PDFs, CSVs, text files                                         â”‚   â”‚
â”‚  â”‚  â€¢ View conversation analytics                                           â”‚   â”‚
â”‚  â”‚  â€¢ Isolated data per customer                                            â”‚   â”‚
â”‚  â”‚  â€¢ Auto-provision bots                                                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

</details>

---

## ğŸ”€ Deployment Paths

![Deployment Options Comparison](docs/architecture-deployments.png)

<details>
<summary>ğŸ“‹ Click to see text version of deployment paths</summary>

### Path 1: Local Development Setup

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         LOCAL SETUP (Localhost)                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚  Dependencies Installed:                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Docker Containers Running:                                          â”‚    â”‚
â”‚  â”‚ â€¢ elasticsearch:8.8.0      â†’ Port 9200 (Vector DB)                 â”‚    â”‚
â”‚  â”‚ â€¢ ollama/ollama:latest     â†’ Port 11434 (Local LLM)                â”‚    â”‚
â”‚  â”‚ â€¢ customer-care-bot        â†’ Port 8000 (Main App)                  â”‚    â”‚
â”‚  â”‚ â€¢ voice-service (optional) â†’ Port 8001 (TTS/STT isolation)         â”‚    â”‚
â”‚  â”‚ â€¢ postgres:15 (if SaaS)    â†’ Port 5432 (Customer DB)               â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                               â”‚
â”‚  Python Dependencies (requirements.txt):                                     â”‚
â”‚  â€¢ fastapi, uvicorn          â†’ Web framework                                 â”‚
â”‚  â€¢ python-telegram-bot       â†’ Telegram integration                          â”‚
â”‚  â€¢ twilio                    â†’ Phone integration                             â”‚
â”‚  â€¢ openai-whisper            â†’ Local STT (140MB model)                       â”‚
â”‚  â€¢ TTS (Mozilla)             â†’ Local TTS                                     â”‚
â”‚  â€¢ sentence-transformers     â†’ Local embeddings                              â”‚
â”‚  â€¢ elasticsearch             â†’ Vector DB client                              â”‚
â”‚  â€¢ langchain                 â†’ RAG orchestration                             â”‚
â”‚                                                                               â”‚
â”‚  Communication Channels:                                                     â”‚
â”‚  âœ… Telegram â†’ Polling mode (no webhook, works on localhost!)               â”‚
â”‚  âš ï¸  Twilio  â†’ Requires ngrok (webhook needs public URL)                    â”‚
â”‚  âš ï¸  SIP     â†’ Requires ngrok (webhook needs public URL)                    â”‚
â”‚                                                                               â”‚
â”‚  Command: make local                                                         â”‚
â”‚                                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Path 2: AWS Cloud Setup

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         AWS CLOUD SETUP                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚  AWS Services Used:                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ â€¢ Amazon Bedrock          â†’ Claude 3 Haiku LLM                     â”‚    â”‚
â”‚  â”‚   â””â”€ Model: anthropic.claude-3-haiku-20240307-v1:0                â”‚    â”‚
â”‚  â”‚   â””â”€ Cost: $0.00025 per 1K input tokens                           â”‚    â”‚
â”‚  â”‚                                                                     â”‚    â”‚
â”‚  â”‚ â€¢ Amazon Transcribe       â†’ Speech-to-Text                         â”‚    â”‚
â”‚  â”‚   â””â”€ Real-time streaming                                           â”‚    â”‚
â”‚  â”‚   â””â”€ Cost: ~$0.024 per minute                                      â”‚    â”‚
â”‚  â”‚                                                                     â”‚    â”‚
â”‚  â”‚ â€¢ Amazon Polly (Neural)   â†’ Text-to-Speech                         â”‚    â”‚
â”‚  â”‚   â””â”€ Voice: Joanna, Matthew, etc.                                  â”‚    â”‚
â”‚  â”‚   â””â”€ Cost: $16 per 1M characters                                   â”‚    â”‚
â”‚  â”‚                                                                     â”‚    â”‚
â”‚  â”‚ â€¢ Amazon OpenSearch       â†’ Managed Vector DB                      â”‚    â”‚
â”‚  â”‚   â””â”€ Auto-scaling, high availability                               â”‚    â”‚
â”‚  â”‚   â””â”€ Cost: ~$50-500/month (based on instance)                     â”‚    â”‚
â”‚  â”‚                                                                     â”‚    â”‚
â”‚  â”‚ â€¢ Amazon Bedrock Embeddings â†’ Vector embeddings                    â”‚    â”‚
â”‚  â”‚   â””â”€ Model: amazon.titan-embed-text-v1                             â”‚    â”‚
â”‚  â”‚   â””â”€ Cost: $0.0001 per 1K tokens                                   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                               â”‚
â”‚  Infrastructure:                                                             â”‚
â”‚  â€¢ EC2 Instance (t3.medium) â†’ Runs FastAPI app                              â”‚
â”‚  â€¢ Application Load Balancer â†’ HTTPS termination                            â”‚
â”‚  â€¢ Route 53 â†’ DNS management                                                â”‚
â”‚  â€¢ Certificate Manager â†’ Free SSL certificates                              â”‚
â”‚                                                                               â”‚
â”‚  Communication Channels:                                                     â”‚
â”‚  âœ… Telegram â†’ Webhook mode (requires domain + SSL)                         â”‚
â”‚  âœ… Twilio  â†’ Webhook mode (public URL)                                     â”‚
â”‚  âœ… SIP     â†’ Webhook mode (public URL)                                     â”‚
â”‚                                                                               â”‚
â”‚  Credentials Required:                                                       â”‚
â”‚  â€¢ AWS_ACCESS_KEY_ID                                                         â”‚
â”‚  â€¢ AWS_SECRET_ACCESS_KEY                                                     â”‚
â”‚  â€¢ AWS_REGION (e.g., us-east-1)                                             â”‚
â”‚                                                                               â”‚
â”‚  Command: make aws                                                           â”‚
â”‚                                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Path 3: OpenAI Cloud Setup

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         OPENAI CLOUD SETUP                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚  OpenAI Services Used:                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ â€¢ GPT-4 Turbo              â†’ Best LLM quality                      â”‚    â”‚
â”‚  â”‚   â””â”€ Model: gpt-4-turbo-preview                                    â”‚    â”‚
â”‚  â”‚   â””â”€ Cost: $0.01 per 1K input, $0.03 per 1K output                â”‚    â”‚
â”‚  â”‚   â””â”€ Context: 128K tokens                                          â”‚    â”‚
â”‚  â”‚                                                                     â”‚    â”‚
â”‚  â”‚ â€¢ Whisper API              â†’ Speech-to-Text                        â”‚    â”‚
â”‚  â”‚   â””â”€ Model: whisper-1                                              â”‚    â”‚
â”‚  â”‚   â””â”€ Cost: $0.006 per minute                                       â”‚    â”‚
â”‚  â”‚   â””â”€ Supports 50+ languages                                        â”‚    â”‚
â”‚  â”‚                                                                     â”‚    â”‚
â”‚  â”‚ â€¢ TTS-1-HD                 â†’ High-quality Text-to-Speech           â”‚    â”‚
â”‚  â”‚   â””â”€ Voices: alloy, echo, fable, onyx, nova, shimmer              â”‚    â”‚
â”‚  â”‚   â””â”€ Cost: $15 per 1M characters                                   â”‚    â”‚
â”‚  â”‚   â””â”€ Low latency (~300ms)                                          â”‚    â”‚
â”‚  â”‚                                                                     â”‚    â”‚
â”‚  â”‚ â€¢ text-embedding-3-small   â†’ Vector embeddings                     â”‚    â”‚
â”‚  â”‚   â””â”€ 1536 dimensions                                               â”‚    â”‚
â”‚  â”‚   â””â”€ Cost: $0.00002 per 1K tokens                                  â”‚    â”‚
â”‚  â”‚   â””â”€ Fast & accurate                                               â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                               â”‚
â”‚  Vector Storage:                                                             â”‚
â”‚  â€¢ Local Elasticsearch (Docker) OR                                           â”‚
â”‚  â€¢ OpenAI's managed vector store (assistants API)                            â”‚
â”‚                                                                               â”‚
â”‚  Infrastructure:                                                             â”‚
â”‚  â€¢ Cloud server (any provider: AWS, DigitalOcean, Linode)                   â”‚
â”‚  â€¢ Nginx for SSL termination                                                 â”‚
â”‚  â€¢ Domain with HTTPS certificate                                             â”‚
â”‚                                                                               â”‚
â”‚  Communication Channels:                                                     â”‚
â”‚  âœ… Telegram â†’ Webhook mode (requires domain + SSL)                         â”‚
â”‚  âœ… Twilio  â†’ Webhook mode (public URL)                                     â”‚
â”‚  âœ… SIP     â†’ Webhook mode (public URL)                                     â”‚
â”‚                                                                               â”‚
â”‚  Credentials Required:                                                       â”‚
â”‚  â€¢ OPENAI_API_KEY (starts with sk-proj- or sk-)                             â”‚
â”‚  â€¢ Optional: OPENAI_ORG_ID                                                   â”‚
â”‚                                                                               â”‚
â”‚  Command: make openai                                                        â”‚
â”‚                                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

</details>

---

## ğŸ“‹ Complete Setup Guide

### Decision Tree: Choose Your Setup

```
Start Here
    â”‚
    â”œâ”€ Where will you deploy?
    â”‚   â”œâ”€ Local Machine (Testing) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Local Setup (Section A)
    â”‚   â””â”€ Cloud Server (Production) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Cloud Setup (Section B)
    â”‚
    â”œâ”€ Which AI model?
    â”‚   â”œâ”€ Free (Local) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Section 1: Local AI
    â”‚   â”œâ”€ AWS (Enterprise) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Section 2: AWS Setup
    â”‚   â””â”€ OpenAI (Best Quality) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Section 3: OpenAI Setup
    â”‚
    â””â”€ Which communication channel?
        â”œâ”€ Telegram Only â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Section 4: Telegram Setup
        â”œâ”€ Phone (Twilio) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Section 5: Twilio Setup
        â””â”€ Phone (SIP Trunk) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Section 6: SIP Setup
```

---

## ğŸ  Section A: Local Setup (Development/Testing)

**What You Need:**
- âœ… Your local machine (localhost)
- âœ… Docker Desktop installed
- âœ… Telegram bot token OR Twilio credentials
- âŒ No domain name required
- âŒ No public IP required (except for Twilio/SIP testing)

### A1. Telegram Local Testing (Easiest)

**Required Credentials:**
```bash
TELEGRAM_BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz
# Get from: @BotFather on Telegram
```

**Setup Steps:**
```bash
# 1. Start web UI
make web-ui

# 2. In browser (http://localhost:8080):
#    - Choose AI Model: Local (free)
#    - Choose Channel: Telegram
#    - Enter Bot Token
#    - Leave "Server URL" BLANK (not needed for Telegram polling)
#    - Deploy

# 3. Test immediately!
#    Open Telegram â†’ Search your bot â†’ Send "Hello"
```

**How It Works:**
- Bot runs on `localhost:8000` (not accessible from internet)
- Uses **polling mode** (bot checks Telegram servers every 2 seconds)
- No webhooks, no ngrok, no public URL needed!

---

### A2. Twilio Local Testing (Requires Ngrok)

**Required Credentials:**
```bash
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=your_auth_token_here
TWILIO_PHONE_NUMBER=+1234567890
# Get from: twilio.com/console
```

**Setup Steps:**
```bash
# 1. Start web UI and configure
make web-ui
#    - AI Model: Local
#    - Channel: Twilio
#    - Enter credentials above
#    - Leave "Server URL" blank (we'll use ngrok)

# 2. Start application
make local

# 3. Start ngrok tunnel (NEW TERMINAL)
make ngrok
# Output: https://abc123.ngrok.io â†’ http://localhost:8000

# 4. Configure Twilio webhook
#    Go to: twilio.com/console/phone-numbers
#    Click your number â†’ Voice & Fax
#    Set "A call comes in" webhook to:
#    https://abc123.ngrok.io/phone/call

# 5. Test: Call your Twilio number!
```

**Important:** Ngrok URL changes every restart. Update Twilio webhook each time.

---

### A3. SIP Local Testing (Requires Ngrok)

**Required Credentials:**
```bash
SIP_DOMAIN=sip.yourprovider.com
SIP_USERNAME=your_sip_username
SIP_PASSWORD=your_sip_password
# Get from: Your SIP provider (Telia, DNA, Elisa, etc.)
```

**Setup Steps:**
```bash
# 1. Configure via web UI
#    - AI Model: Local
#    - Channel: SIP Trunk
#    - Enter SIP credentials
#    - Leave "Server URL" blank

# 2. Start app and ngrok
make local
make ngrok  # New terminal

# 3. Configure SIP provider
#    Set SIP destination to: https://abc123.ngrok.io/phone/sip/call

# 4. Test: Call your SIP number
```

---

## â˜ï¸ Section B: Cloud Setup (Production)

**What You Need:**
- âœ… Cloud server (AWS EC2, DigitalOcean, etc.)
- âœ… Public IP address (e.g., 54.123.45.67)
- âœ… Domain name (optional but recommended: callcenter.mycompany.com)
- âœ… SSH access to server
- âœ… Telegram/Twilio/SIP credentials

### B1. Cloud Deployment with Telegram

**Required Credentials:**
```bash
TELEGRAM_BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz
BASE_URL=https://callcenter.mycompany.com  # OR http://54.123.45.67
```

**Setup Steps:**

**On Your Local Machine:**
```bash
# 1. Run web UI locally
make web-ui

# 2. Configure:
#    - AI Model: AWS or OpenAI (recommended for production)
#    - Channel: Telegram
#    - Enter bot token
#    - Server URL: https://callcenter.mycompany.com
#    - Enter AWS/OpenAI credentials (see sections below)
#    - Deploy (generates nginx config)

# 3. Copy files to server
scp -r /mnt/e/call_center_agent user@54.123.45.67:/opt/
scp nginx/customer-care-generated.conf user@server:/tmp/
```

**On Cloud Server:**
```bash
# 1. Install dependencies
cd /opt/call_center_agent
sudo apt update && sudo apt install docker.io docker-compose nginx certbot

# 2. Setup nginx
sudo mv /tmp/customer-care-generated.conf /etc/nginx/sites-available/customer-care
sudo ln -s /etc/nginx/sites-available/customer-care /etc/nginx/sites-enabled/
sudo rm /etc/nginx/sites-enabled/default

# 3. Get SSL certificate (if using domain)
sudo certbot --nginx -d callcenter.mycompany.com

# 4. Start application
make aws  # or: make openai

# 5. Set Telegram webhook
curl -X POST "https://api.telegram.org/bot<TOKEN>/setWebhook?url=https://callcenter.mycompany.com/telegram/webhook"
```

**How It Works:**
```
Telegram User â†’ Telegram Servers â†’ Your Domain (HTTPS) â†’ Nginx â†’ App (port 8000)
```

---

### B2. Cloud Deployment with Twilio

**Required Credentials:**
```bash
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=your_auth_token
TWILIO_PHONE_NUMBER=+1234567890
BASE_URL=https://callcenter.mycompany.com  # Your server URL
```

**Setup Steps:**

**On Local Machine:**
```bash
# Configure via web UI
#    - AI Model: AWS or OpenAI
#    - Channel: Twilio
#    - Enter Twilio credentials
#    - Server URL: https://callcenter.mycompany.com (IMPORTANT!)
#    - Deploy
```

**On Cloud Server:**
```bash
# Same as B1 steps 1-4
# Then configure Twilio:
```

**Configure Twilio Console:**
1. Go to: [twilio.com/console/phone-numbers](https://www.twilio.com/console/phone-numbers)
2. Click your phone number
3. Under **Voice & Fax** â†’ **A call comes in**:
   - Webhook: `https://callcenter.mycompany.com/phone/call`
   - HTTP: POST
4. **Save**

**Test:** Call your Twilio number from any phone!

---

### B3. Cloud Deployment with SIP Trunk

**Required Credentials:**
```bash
SIP_DOMAIN=sip.yourprovider.com
SIP_USERNAME=your_username
SIP_PASSWORD=your_password
BASE_URL=https://callcenter.mycompany.com
```

**Setup:** Same as B2, then configure your SIP provider to route calls to:
```
SIP URI: https://callcenter.mycompany.com/phone/sip/call
```

---

## ğŸ¤– Section 1: Local AI Setup (Free)

**Best For:** Testing, development, privacy-focused deployments

**What You Get:**
- TinyLlama (1GB) - Fast, decent quality
- Whisper (base) - Speech recognition
- MMS-TTS - Text-to-speech
- Elasticsearch - Vector database

**Required:**
```bash
# No API keys needed!
# Just select "Local" in web UI
```

**Configuration Options:**
```bash
# Choose model size (in web UI):
OLLAMA_MODEL=tinyllama    # 1GB RAM, fastest (default)
OLLAMA_MODEL=phi          # 2GB RAM, better quality
OLLAMA_MODEL=mistral      # 4GB RAM, best quality

WHISPER_MODEL=base        # 140MB, 90-95% accuracy (default)
WHISPER_MODEL=small       # 460MB, 93-95% accuracy
WHISPER_MODEL=medium      # 1.4GB, 95-97% accuracy
```

**When to Use:**
- âœ… Testing the system
- âœ… Development
- âœ… Privacy requirements (data stays on your machine)
- âœ… No cloud costs
- âŒ Not for high-traffic production (slower responses)

---

## â˜ï¸ Section 2: AWS Setup (Enterprise)

**Best For:** Enterprise, scalability, production workloads

**What You Get:**
- Amazon Bedrock (Claude 3 Haiku) - Advanced LLM
- Amazon Transcribe - Professional speech-to-text
- Amazon Polly (Neural) - Natural text-to-speech
- Amazon OpenSearch - Scalable vector database

**Required Credentials:**
```bash
AWS_ACCESS_KEY_ID=AKIAIOSFODNN7EXAMPLE
AWS_SECRET_ACCESS_KEY=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
AWS_REGION=us-east-1
```

**How to Get Credentials:**

1. **Create AWS Account:**
   - Go to [aws.amazon.com](https://aws.amazon.com)
   - Sign up (requires credit card)

2. **Enable Bedrock Access:**
   - Go to AWS Console â†’ Amazon Bedrock
   - Click "Model access"
   - Request access to: `Anthropic Claude 3 Haiku`
   - Wait for approval (usually instant)

3. **Create Access Keys:**
   ```bash
   # AWS Console â†’ IAM â†’ Users â†’ Create User
   # User name: callcenter-bot
   # Permissions: 
   #   - AmazonBedrockFullAccess
   #   - AmazonTranscribeFullAccess
   #   - AmazonPollyFullAccess
   #   - AmazonOpenSearchServiceFullAccess
   # Security credentials â†’ Create access key
   # Copy: Access Key ID and Secret Access Key
   ```

4. **Configure in Web UI:**
   - AI Model: AWS
   - AWS Access Key ID: `AKIA...`
   - AWS Secret Key: `wJalrX...`
   - AWS Region: `us-east-1`

**Costs:** ~$0.02 per call (1-2 minute conversation)

**When to Use:**
- âœ… Production deployments
- âœ… High traffic (1000+ calls/day)
- âœ… Enterprise features
- âœ… Compliance requirements
- âŒ Not for hobby projects (costs money)

---

## ğŸš€ Section 3: OpenAI Setup (Best Quality)

**Best For:** Best quality responses, fastest performance

**What You Get:**
- GPT-4 Turbo - Most advanced LLM
- Whisper API - Best speech recognition
- TTS-1 HD - High-quality text-to-speech
- OpenAI Embeddings - Semantic search

**Required Credentials:**
```bash
OPENAI_API_KEY=sk-proj-xxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

**How to Get API Key:**

1. **Create OpenAI Account:**
   - Go to [platform.openai.com](https://platform.openai.com)
   - Sign up
   - Add payment method (pay-as-you-go)

2. **Create API Key:**
   ```bash
   # Dashboard â†’ API Keys â†’ Create new secret key
   # Name: call-center-bot
   # Copy the key (starts with sk-proj- or sk-)
   # IMPORTANT: Save it immediately! Can't view again.
   ```

3. **Configure in Web UI:**
   - AI Model: OpenAI
   - OpenAI API Key: `sk-proj-...`
   - OpenAI Model: `gpt-4-turbo` (or `gpt-4`, `gpt-3.5-turbo`)

**Costs:** ~$0.02-0.05 per call

**When to Use:**
- âœ… Best quality responses needed
- âœ… Customer-facing production
- âœ… Complex conversations
- âœ… Fastest response times (4-6 seconds)
- âŒ Not for high-volume (can get expensive)

---

## ğŸ“± Section 4: Telegram Setup

**Get Bot Token:**
1. Open Telegram app
2. Search for `@BotFather`
3. Send: `/newbot`
4. Follow prompts:
   - Bot name: `My Customer Care Bot`
   - Username: `my_customer_care_bot` (must end with 'bot')
5. Copy token: `123456789:ABCdefGHIjklMNOpqrsTUVwxyz`

**Testing:**

**Local (Polling Mode):**
```bash
# In web UI: Leave "Server URL" BLANK
# Bot will poll Telegram servers
# Works on localhost - NO NGROK NEEDED!
```

**Cloud (Webhook Mode):**
```bash
# In web UI: Set "Server URL" to your domain
# Bot will receive webhooks from Telegram
# Requires HTTPS (use nginx + certbot)

# After deployment, set webhook:
curl -X POST "https://api.telegram.org/bot<TOKEN>/setWebhook?url=https://yourdomain.com/telegram/webhook"

# Verify:
curl "https://api.telegram.org/bot<TOKEN>/getWebhookInfo"
```

---

## ğŸ“ Section 5: Twilio Setup

**Get Credentials:**
1. Sign up at [twilio.com](https://www.twilio.com)
2. Get $15 free credit
3. Dashboard â†’ Account â†’ Account SID & Auth Token
4. Buy a phone number: Phone Numbers â†’ Buy a Number ($1/month)

**Credentials You Need:**
```bash
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=your_auth_token_here
TWILIO_PHONE_NUMBER=+1234567890
```

**Configure Webhook:**

**Local Testing:**
```bash
# Use ngrok URL:
https://abc123.ngrok.io/phone/call
```

**Cloud Production:**
```bash
# Use your domain:
https://callcenter.mycompany.com/phone/call
```

**In Twilio Console:**
1. Phone Numbers â†’ Manage â†’ Active Numbers
2. Click your number
3. Voice & Fax â†’ A call comes in:
   - Webhook: `https://yourdomain.com/phone/call`
   - HTTP: POST

**Test:** Call your Twilio number!

---

## ğŸ”Œ Section 6: SIP Trunk Setup

**Get Credentials from Provider:**
- Telia: [telia.se/foretag/support/telefoni](https://www.telia.se/foretag/support/telefoni)
- DNA: [dna.fi/yrityksille/tuotteet/puhepalvelut](https://www.dna.fi/yrityksille/tuotteet/puhepalvelut)
- Elisa: [elisa.fi/yrityksille/](https://elisa.fi/yrityksille/)

**Required Credentials:**
```bash
SIP_DOMAIN=sip.yourprovider.com
SIP_USERNAME=your_username
SIP_PASSWORD=your_password
```

**Configure SIP Provider:**
- Destination URL: `https://yourdomain.com/phone/sip/call`
- Protocol: SIP over TLS (preferred) or UDP
- Codec: G.711 (Î¼-law or A-law)

---

## ğŸŒ Section 7: Domain & Server URL

### When Do You Need a Domain?

**DON'T Need Domain (Localhost):**
- âœ… Telegram local testing (polling mode)
- âœ… Local development

**DO Need Domain/IP (Cloud):**
- âœ… Twilio webhooks (requires public URL)
- âœ… SIP trunk (requires public endpoint)
- âœ… Telegram webhooks (optional, but recommended)
- âœ… Production deployments

### Option A: Use IP Address (Quick & Free)

**Your cloud server IP:** `54.123.45.67`

**Configure:**
```bash
# In web UI:
Server URL: http://54.123.45.67
```

**Telegram webhook:**
```bash
curl -X POST "https://api.telegram.org/bot<TOKEN>/setWebhook?url=http://54.123.45.67:8000/telegram/webhook"
```

**Twilio webhook:**
```
http://54.123.45.67:8000/phone/call
```

**Pros:**
- âœ… Free
- âœ… Immediate

**Cons:**
- âŒ No HTTPS (Telegram webhooks won't work without workaround)
- âŒ Hard to remember
- âŒ Not professional

---

### Option B: Use Domain Name (Professional)

**Buy Domain:** 
- Namecheap, GoDaddy, Google Domains (~$10-15/year)
- Example: `callcenter.mycompany.com`

**Point to Server:**
```bash
# Add DNS A record:
Type: A
Name: callcenter
Value: 54.123.45.67
TTL: 300
```

**Configure:**
```bash
# In web UI:
Server URL: https://callcenter.mycompany.com
```

**Setup SSL (Free with Let's Encrypt):**
```bash
# On server:
sudo certbot --nginx -d callcenter.mycompany.com
# Auto-renews every 90 days
```

**Telegram webhook:**
```bash
curl -X POST "https://api.telegram.org/bot<TOKEN>/setWebhook?url=https://callcenter.mycompany.com/telegram/webhook"
```

**Twilio webhook:**
```
https://callcenter.mycompany.com/phone/call
```

**Pros:**
- âœ… HTTPS (secure, required for Telegram webhooks)
- âœ… Professional
- âœ… Easy to remember

**Cons:**
- âŒ Costs ~$10-15/year
- âŒ DNS propagation takes 1-24 hours

---

## ğŸ¯ Section 8: Which Model Should I Choose?

### Decision Matrix

| Use Case | Best Model | Reason |
|----------|-----------|--------|
| **Testing system** | Local | Free, runs anywhere |
| **Low budget** | Local | $0/month |
| **Privacy critical** | Local | Data never leaves your server |
| **Hobby project** | Local or OpenAI | Free or pay-per-use |
| **Startup MVP** | OpenAI | Best quality, pay only what you use |
| **Small business** | OpenAI | ~$50-200/month for 100-1000 calls |
| **Medium business** | AWS | Better pricing at scale |
| **Enterprise** | AWS | Compliance, scalability, dedicated support |
| **High traffic** | AWS | Handles 10,000+ calls/day |
| **Best quality needed** | OpenAI | GPT-4 is most advanced |

### Cost Comparison (1000 calls/month)

| Model | Setup Cost | Monthly Cost | Per Call |
|-------|-----------|--------------|----------|
| Local | $0 | $0 (your electricity) | $0 |
| AWS | $0 | ~$20-40 | $0.02-0.04 |
| OpenAI | $0 | ~$20-50 | $0.02-0.05 |

---

## ğŸ”’ Section 9: SaaS Platform (Multi-Tenant)

**What is it?**
- Host multiple customers on one system
- Each customer has isolated data
- Web dashboard for customer signup
- Self-service data upload

**Enable SaaS:**
```bash
# In web UI:
â˜‘ Enable SaaS Platform

# Passwords auto-generated or set custom:
POSTGRES_PASSWORD=your_secure_password
ADMIN_PASSWORD=dashboard_admin_password
```

**What Gets Created:**
- PostgreSQL database for customer accounts
- Dashboard on port 5000
- Customer-specific vector databases
- Isolated data per customer

**Access Dashboard:**
```
http://localhost:5000              # Local
https://yourdomain.com:5000        # Cloud
```

**Customer Workflow:**
1. Customer signs up at dashboard
2. Gets their own Telegram bot or phone number
3. Uploads their data (PDFs, CSVs)
4. Data stored in isolated vector database
5. AI answers based on their data only

**When to Use:**
- âœ… Building SaaS product
- âœ… Multiple customers
- âœ… White-label solution
- âŒ Single company use (use regular deployment)

---

## ğŸ—ï¸ Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Communication Layer                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚ Telegram â”‚    â”‚  Twilio  â”‚    â”‚SIP Trunk â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚              â”‚              â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚      Bot Service (Flask)     â”‚
        â”‚   - Message routing          â”‚
        â”‚   - Session management       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚    Voice Service (FastAPI)   â”‚
        â”‚   - Speech-to-Text           â”‚
        â”‚   - Text-to-Speech           â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚       AI Provider            â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
        â”‚  â”‚ Local: Ollama/Whisper   â”‚ â”‚
        â”‚  â”‚ AWS: Bedrock/Transcribe â”‚ â”‚
        â”‚  â”‚ OpenAI: GPT-4/Whisper   â”‚ â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚      Vector Database         â”‚
        â”‚  - Elasticsearch (Local)     â”‚
        â”‚  - OpenSearch (AWS)          â”‚
        â”‚  - PostgreSQL (OpenAI/SaaS)  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ Project Structure

```
call_center_agent/
â”œâ”€â”€ setup_web_ui.py              # Web-based setup wizard (port 8080)
â”œâ”€â”€ setup.sh                      # CLI setup wizard
â”œâ”€â”€ Makefile                      # Quick commands
â”œâ”€â”€ .env.example                  # Configuration template
â”‚
â”œâ”€â”€ deployments/                  # Modular deployment configs
â”‚   â”œâ”€â”€ local/                    # Local AI setup
â”‚   â”‚   â”œâ”€â”€ docker-compose.yml
â”‚   â”‚   â”œâ”€â”€ setup.sh
â”‚   â”‚   â””â”€â”€ README.md
â”‚   â”œâ”€â”€ aws/                      # AWS cloud setup
â”‚   â”œâ”€â”€ openai/                   # OpenAI setup
â”‚   â””â”€â”€ saas/                     # Multi-tenant SaaS platform
â”‚
â”œâ”€â”€ app/                          # Core application code
â”‚   â”œâ”€â”€ bot/                      # Telegram bot logic
â”‚   â”œâ”€â”€ voice/                    # Voice processing service
â”‚   â”œâ”€â”€ clients/                  # AI model clients
â”‚   â””â”€â”€ services/                 # Business logic
â”‚
â”œâ”€â”€ saas_dashboard/               # Multi-tenant dashboard
â”‚   â”œâ”€â”€ app.py                    # Flask dashboard app
â”‚   â”œâ”€â”€ templates/                # HTML templates
â”‚   â””â”€â”€ static/                   # CSS, JS assets
â”‚
â””â”€â”€ setup_ui/                     # Web setup UI templates
    â”œâ”€â”€ templates/
    â””â”€â”€ static/
```

---

## ğŸ› ï¸ Available Commands

### Setup
```bash
make web-ui         # Launch web-based setup wizard (recommended)
./setup.sh          # Launch CLI setup wizard
```

### Deployment
```bash
make local          # Deploy with local AI models
make aws            # Deploy with AWS services
make openai         # Deploy with OpenAI services
```

### Management
```bash
make logs           # View logs for running services
make stop           # Stop all services
make clean          # Remove all containers and volumes
```

### Testing
```bash
make test-local     # Test local AI setup
make test-rag       # Test RAG knowledge base
```

---

## ğŸ”§ Advanced Configuration

### Custom AI Models

**Local Ollama Models:**
```bash
# Available models:
OLLAMA_MODEL=tinyllama   # Fast, 1GB (default)
OLLAMA_MODEL=phi         # Balanced, 2GB
OLLAMA_MODEL=mistral     # Better quality, 4GB
```

**Whisper Models:**
```bash
WHISPER_MODEL=base       # 140MB, 90-95% accuracy (default)
WHISPER_MODEL=small      # 460MB, 93-95% accuracy
WHISPER_MODEL=medium     # 1.4GB, 95-97% accuracy
```

### Vector Database Storage

Data storage locations:
- **Local**: `/var/lib/docker/volumes/elasticsearch_data`
- **AWS**: Amazon OpenSearch Service
- **OpenAI**: PostgreSQL + OpenAI embeddings
- **SaaS**: PostgreSQL `/var/lib/docker/volumes/postgres_data`

### Backup & Restore

```bash
# Backup PostgreSQL (SaaS)
docker exec saas_postgres pg_dump -U saas_user saas_db > backup.sql

# Restore PostgreSQL
docker exec -i saas_postgres psql -U saas_user saas_db < backup.sql

# Backup Elasticsearch (Local)
docker exec elasticsearch curl -X PUT "localhost:9200/_snapshot/my_backup"

# Check volumes
docker volume ls
docker volume inspect saas_postgres_data
```

---

## ğŸ“Š Performance & Costs

### Response Times
| Deployment | Latency | Quality | Cost/Call |
|------------|---------|---------|-----------|
| Local AI   | 80-140s | Good    | $0        |
| AWS Cloud  | 10-17s  | Great   | ~$0.02    |
| OpenAI     | 4-6s    | Best    | ~$0.02    |

### Resource Requirements
| Component | Local | AWS | OpenAI |
|-----------|-------|-----|--------|
| RAM       | 4-8GB | 2GB | 2GB    |
| CPU       | 4+ cores | 2 cores | 2 cores |
| Storage   | 10GB+ | 5GB | 5GB |

---

## ğŸ” Security Best Practices

1. **Never commit `.env` file** - Already in `.gitignore`
2. **Use strong passwords** - Auto-generated by web UI
3. **Rotate API keys regularly** - Every 90 days recommended
4. **Enable HTTPS in production** - Configure nginx reverse proxy
5. **Limit database access** - Use firewall rules
6. **Monitor logs** - Check `make logs` regularly

---

## ğŸ§ª Local Testing with Webhooks

Testing Telegram/Twilio/SIP webhooks locally requires ngrok (creates public HTTPS URL for localhost).

**Quick Start:**
```bash
# Setup ngrok (first time only)
make ngrok-setup

# Start your application
make local

# Start ngrok tunnel (new terminal)
make ngrok
# You'll get: https://abc123.ngrok.io
```

**Configure webhooks with ngrok URL:**
- Telegram: `https://abc123.ngrok.io/telegram/webhook`
- Twilio: `https://abc123.ngrok.io/phone/call`

**ğŸ“š Complete guide**: [docs/LOCAL_TESTING.md](docs/LOCAL_TESTING.md)

**Note**: Telegram supports **polling mode** for local testing without ngrok! Just leave `TELEGRAM_WEBHOOK_URL` empty in `.env`.

---

## ğŸ› Troubleshooting

### Web UI won't start
```bash
# Check if port 8080 is already in use
lsof -i :8080
pkill -f setup_web_ui.py
python3 setup_web_ui.py
```

### Docker containers won't start
```bash
# Check Docker daemon
sudo systemctl status docker
sudo systemctl start docker

# Check logs
make logs

# Clean restart
make clean
make local  # or aws/openai
```

### Bot not responding
```bash
# Check bot service logs
docker logs -f bot_container_name

# Verify Telegram token
echo $TELEGRAM_BOT_TOKEN

# Test bot manually
curl https://api.telegram.org/bot<YOUR_TOKEN>/getMe
```

### Out of memory errors
```bash
# Reduce concurrent calls in .env
MAX_CONCURRENT_CALLS=2

# Use smaller models
OLLAMA_MODEL=tinyllama
WHISPER_MODEL=tiny

# Increase Docker memory
# Docker Desktop > Settings > Resources > Memory > 8GB
```

---

## ğŸ¤ Contributing

We welcome contributions! Please see [CONTRIBUTING.md](CONTRIBUTING.md) for:
- Code style guidelines
- Pull request process
- Development setup
- Testing requirements

---

## ğŸ“ License

This project is licensed under the MIT License - see [LICENSE](LICENSE) file for details.

---

## ğŸ†˜ Support

- **Issues**: [GitHub Issues](https://github.com/yourusername/call_center_agent/issues)
- **Discussions**: [GitHub Discussions](https://github.com/yourusername/call_center_agent/discussions)
- **Email**: support@yourproject.com

---

## ğŸ—ºï¸ Roadmap

- [ ] Add WhatsApp integration
- [ ] Support for more languages
- [ ] Real-time analytics dashboard
- [ ] A/B testing for responses
- [ ] Sentiment analysis
- [ ] CRM integrations (Salesforce, HubSpot)
- [ ] Kubernetes deployment templates

---

## â­ Star History

If this project helps you, please give it a â­ on GitHub!

---

**Built with â¤ï¸ for better customer support**
